{"version":3,"sources":["../../node_modules/@react-native-firebase/app/lib/common/ReferenceBase.js","../../node_modules/@react-native-firebase/app/lib/common/index.js","../../node_modules/@react-native-firebase/app/lib/common/validate.js","../../node_modules/@react-native-firebase/app/lib/internal/constants.js","../../node_modules/@react-native-firebase/app/lib/internal/RNFBNativeEventEmitter.js","../../node_modules/@react-native-firebase/app/lib/internal/registry/nativeModule.js","../../node_modules/@react-native-firebase/app/lib/FirebaseApp.js","../../node_modules/@react-native-firebase/app/lib/internal/SharedEventEmitter.js","../../node_modules/@react-native-firebase/app/lib/internal/index.js","../../node_modules/@react-native-firebase/app/lib/internal/NativeFirebaseError.js","../../node_modules/@react-native-firebase/app/lib/internal/FirebaseModule.js","../../node_modules/@react-native-firebase/app/lib/internal/registry/app.js","../../node_modules/@react-native-firebase/app/lib/internal/registry/namespace.js","../../node_modules/@react-native-firebase/app/lib/version.js","../../node_modules/react-native/Libraries/Utilities/binaryToBase64.js","../../node_modules/base64-js/index.js"],"names":["_path","path","length","endsWith","substring","startsWith","this","lastIndexOf","once","fn","context","onceResult","ranOnce","args","apply","isError","value","Object","prototype","toString","call","Error","stripTrailingSlash","string","isString","slice","isIOS","Platform","OS","AlphaNumericUnderscore","isNull","isObject","Array","isArray","isFunction","isNumber","isBoolean","isUndefined","isAlphaNumericUnderscore","test","isOneOf","oneOf","includes","APP_NATIVE_MODULE","DEFAULT_APP_NAME","KNOWN_NAMESPACES","RNFBAppModule","NativeModules","ready","eventType","listener","eventsNotifyReady","eventsAddListener","subscription","originalRemove","remove","eventsRemoveListener","replace","NativeEventEmitter","NATIVE_MODULE_REGISTRY","NATIVE_MODULE_EVENT_SUBSCRIPTIONS","nativeModuleKey","module","_customUrlOrRegion","app","name","_config","namespace","nativeModuleMethodWrapped","method","argToPrepend","possiblePromise","then","jsStack","stack","catch","nativeError","Promise","reject","NativeFirebaseError","nativeModuleWrapped","NativeModule","native","properties","keys","i","len","property","subscribeToNativeModuleEvent","eventName","RNFBNativeEventEmitter","addListener","event","appName","SharedEventEmitter","emit","getMissingModuleHelpText","snippet","nativeModule","charAt","toUpperCase","getNativeModule","key","config","nativeEvents","nativeModuleName","hasMultiAppSupport","hasCustomUrlOrRegionSupport","disablePrependCustomUrlOrRegion","multiModuleRoot","multiModule","nativeModuleNames","push","freeze","initialiseNativeModule","getAppModule","FirebaseApp","options","appConfig","fromNative","deleteApp","automaticDataCollectionEnabled","_name","_deleted","_deleteApp","_options","_automaticDataCollectionEnabled","_initialized","_nativeInitialized","enabled","_checkDestroyed","setAutomaticDataCollectionEnabled","extendedProps","EventEmitter","userInfo","defineProperty","enumerable","code","message","nativeErrorCode","nativeErrorMessage","getStackWithMessage","errorEvent","split","join","firebaseJson","FirebaseModule","customUrlOrRegion","_app","_nativeModule","JSON","parse","FIREBASE_RAW_JSON","__extended__","APP_REGISTRY","onAppCreateFn","onAppDestroyFn","initializedNativeApps","setOnAppCreate","setOnAppDestroy","initializeNativeApps","NATIVE_FIREBASE_APPS","bind","getApp","getApps","values","initializeApp","configOrName","automaticResourceManagement","apiKey","appId","databaseURL","messagingSenderId","projectId","storageBucket","e","setLogLevel","logLevel","nativeInitialized","FIREBASE_ROOT","NAMESPACE_REGISTRY","APP_MODULE_INSTANCE","MODULE_GETTER_FOR_APP","MODULE_GETTER_FOR_ROOT","firebaseRootModuleProxy","firebaseNamespace","moduleNamespace","statics","ModuleClass","firebaseModuleWithApp","getOrCreateModuleForRoot","moduleWithDashes","toLowerCase","firebaseAppModuleProxy","undefined","getOrCreateModuleForApp","getFirebaseRoot","SDK_VERSION","get","createFirebaseRoot","createModuleNamespace","exports","base64","require","data","ArrayBuffer","Uint8Array","fromByteArray","isView","buffer","byteOffset","byteLength","b64","lens","getLens","validLen","placeHoldersLen","toByteArray","tmp","arr","Arr","_byteLength","curByte","revLookup","charCodeAt","uint8","extraBytes","parts","len2","encodeChunk","lookup","indexOf","start","end","num","output"],"mappings":"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","file":"static/js/0.f9227d48.chunk.js","sourcesContent":["/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nexport default class ReferenceBase {\n  constructor(_path) {\n    let path = _path;\n\n    if (path) {\n      path = path.length > 1 && path.endsWith('/') ? path.substring(0, path.length - 1) : path;\n      if (path.startsWith('/') && path.length > 1) {\n        path = path.substring(1, path.length);\n      }\n    } else {\n      path = '/';\n    }\n\n    this.path = path;\n  }\n\n  /**\n   * The last part of a Reference's path (after the last '/')\n   * The key of a root Reference is null.\n   * @type {String}\n   * {@link https://firebase.google.com/docs/reference/js/firebase.database.Reference#key}\n   */\n  get key() {\n    return this.path === '/' ? null : this.path.substring(this.path.lastIndexOf('/') + 1);\n  }\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\nimport { Platform } from 'react-native';\nimport Base64 from './Base64';\nimport { isString } from './validate';\n\nexport * from './id';\nexport * from './path';\nexport * from './promise';\nexport * from './validate';\n\nexport { default as Base64 } from './Base64';\nexport { default as ReferenceBase } from './ReferenceBase';\n\nexport function getDataUrlParts(dataUrlString) {\n  const isBase64 = dataUrlString.includes(';base64');\n  let [mediaType, base64String] = dataUrlString.split(',');\n  if (!mediaType || !base64String) {\n    return { base64String: undefined, mediaType: undefined };\n  }\n  mediaType = mediaType.replace('data:', '').replace(';base64', '');\n  if (base64String && base64String.includes('%')) {\n    base64String = decodeURIComponent(base64String);\n  }\n  if (!isBase64) {\n    base64String = Base64.btoa(base64String);\n  }\n  return { base64String, mediaType };\n}\n\nexport function once(fn, context) {\n  let onceResult;\n  let ranOnce = false;\n\n  return function onceInner(...args) {\n    if (!ranOnce) {\n      ranOnce = true;\n      onceResult = fn.apply(context || this, args);\n    }\n\n    return onceResult;\n  };\n}\n\nexport function isError(value) {\n  if (Object.prototype.toString.call(value) === '[object Error]') {\n    return true;\n  }\n\n  return value instanceof Error;\n}\n\nexport function hasOwnProperty(target, property) {\n  return Object.hasOwnProperty.call(target, property);\n}\n\n/**\n * Remove a trailing forward slash from a string if it exists\n *\n * @param string\n * @returns {*}\n */\nexport function stripTrailingSlash(string) {\n  if (!isString(string)) {\n    return string;\n  }\n  return string.endsWith('/') ? string.slice(0, -1) : string;\n}\n\nexport const isIOS = Platform.OS === 'ios';\n\nexport const isAndroid = Platform.OS === 'android';\n\nexport function tryJSONParse(string) {\n  try {\n    return string && JSON.parse(string);\n  } catch (jsonError) {\n    return string;\n  }\n}\n\nexport function tryJSONStringify(data) {\n  try {\n    return JSON.stringify(data);\n  } catch (jsonError) {\n    return null;\n  }\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { Platform } from 'react-native';\n\nconst AlphaNumericUnderscore = /^[a-zA-Z0-9_]+$/;\n\nexport function objectKeyValuesAreStrings(object) {\n  if (!isObject(object)) {\n    return false;\n  }\n\n  const entries = Object.entries(object);\n\n  for (let i = 0; i < entries.length; i++) {\n    const [key, value] = entries[i];\n    if (!isString(key) || !isString(value)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Simple is null check.\n *\n * @param value\n * @returns {boolean}\n */\nexport function isNull(value) {\n  return value === null;\n}\n\n/**\n * Simple is object check.\n *\n * @param value\n * @returns {boolean}\n */\nexport function isObject(value) {\n  return value ? typeof value === 'object' && !Array.isArray(value) && !isNull(value) : false;\n}\n\n/**\n * Simple is date check\n * https://stackoverflow.com/a/44198641\n * @param value\n * @returns {boolean}\n */\nexport function isDate(value) {\n  // use the global isNaN() and not Number.isNaN() since it will validate an Invalid Date\n  return value && Object.prototype.toString.call(value) === '[object Date]' && !isNaN(value);\n}\n\n/**\n * Simple is function check\n *\n * @param value\n * @returns {*|boolean}\n */\nexport function isFunction(value) {\n  return value ? typeof value === 'function' : false;\n}\n\n/**\n * Simple is string check\n * @param value\n * @return {boolean}\n */\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Simple is number check\n * @param value\n * @return {boolean}\n */\nexport function isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Simple finite check\n * @param value\n * @returns {boolean}\n */\nexport function isFinite(value) {\n  return Number.isFinite(value);\n}\n\n/**\n * Simple integer check\n * @param value\n * @returns {boolean}\n */\nexport function isInteger(value) {\n  return Number.isInteger(value);\n}\n\n/**\n * Simple is boolean check\n *\n * @param value\n * @return {boolean}\n */\nexport function isBoolean(value) {\n  return typeof value === 'boolean';\n}\n\n/**\n *\n * @param value\n * @returns {arg is Array<any>}\n */\nexport function isArray(value) {\n  return Array.isArray(value);\n}\n\n/**\n *\n * @param value\n * @returns {boolean}\n */\nexport function isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * /^[a-zA-Z0-9_]+$/\n *\n * @param value\n * @returns {boolean}\n */\nexport function isAlphaNumericUnderscore(value) {\n  return AlphaNumericUnderscore.test(value);\n}\n\n/**\n * URL test\n * @param url\n * @returns {boolean}\n */\nconst IS_VALID_URL_REGEX = /^(http|https):\\/\\/[^ \"]+$/;\nexport function isValidUrl(url) {\n  return IS_VALID_URL_REGEX.test(url);\n}\n\n/**\n * Array includes\n *\n * @param value\n * @param oneOf\n * @returns {boolean}\n */\nexport function isOneOf(value, oneOf = []) {\n  if (!isArray(oneOf)) {\n    return false;\n  }\n  return oneOf.includes(value);\n}\n\nexport function noop() {\n  // noop-🐈\n}\n\nexport function validateOptionalNativeDependencyExists(firebaseJsonKey, apiName, nativeFnExists) {\n  if (nativeFnExists) {\n    return;\n  }\n  let errorMessage =\n    \"You attempted to use an optional API that's not enabled natively. \\n\\n To enable \";\n\n  errorMessage += apiName;\n  errorMessage += ` please set the 'react-native' -> '${firebaseJsonKey}' key to true in your firebase.json file`;\n\n  if (Platform.OS === 'android') {\n    errorMessage += ' and rebuild your Android app.';\n  } else {\n    errorMessage +=\n      ', re-run pod install and rebuild your iOS app. ' +\n      \"If you're not using Pods then make sure you've have downloaded the necessary Firebase iOS SDK dependencies for this API.\";\n  }\n\n  throw new Error(errorMessage);\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nexport const APP_NATIVE_MODULE = 'RNFBAppModule';\n\nexport const DEFAULT_APP_NAME = '[DEFAULT]';\n\nexport const KNOWN_NAMESPACES = [\n  'appCheck',\n  'appDistribution',\n  'auth',\n  'analytics',\n  'remoteConfig',\n  'crashlytics',\n  'database',\n  'inAppMessaging',\n  'installations',\n  'firestore',\n  'functions',\n  'indexing',\n  'storage',\n  'dynamicLinks',\n  'messaging',\n  'naturalLanguage',\n  'ml',\n  'notifications',\n  'perf',\n  'utils',\n];\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { NativeEventEmitter, NativeModules } from 'react-native';\n\nconst { RNFBAppModule } = NativeModules;\n\nclass RNFBNativeEventEmitter extends NativeEventEmitter {\n  constructor() {\n    super(RNFBAppModule);\n    this.ready = false;\n  }\n\n  addListener(eventType, listener, context) {\n    if (!this.ready) {\n      RNFBAppModule.eventsNotifyReady(true);\n      this.ready = true;\n    }\n    RNFBAppModule.eventsAddListener(eventType);\n\n    let subscription = super.addListener(`rnfb_${eventType}`, listener, context);\n\n    // React Native 0.65+ altered EventEmitter:\n    // - removeSubscription is gone\n    // - addListener returns an unsubscriber instead of a more complex object with eventType etc\n\n    // make sure eventType for backwards compatibility just in case\n    subscription.eventType = `rnfb_${eventType}`;\n\n    // New style is to return a remove function on the object, just in csae people call that,\n    // we will modify it to do our native unsubscription then call the original\n    let originalRemove = subscription.remove;\n    let newRemove = () => {\n      RNFBAppModule.eventsRemoveListener(eventType, false);\n      if (super.removeSubscription != null) {\n        // This is for RN <= 0.64 - 65 and greater no longer have removeSubscription\n        super.removeSubscription(subscription);\n      } else if (originalRemove != null) {\n        // This is for RN >= 0.65\n        originalRemove();\n      }\n    };\n    subscription.remove = newRemove;\n    return subscription;\n  }\n\n  removeAllListeners(eventType) {\n    RNFBAppModule.eventsRemoveListener(eventType, true);\n    super.removeAllListeners(`rnfb_${eventType}`);\n  }\n\n  // This is likely no longer ever called, but it is here for backwards compatibility with RN <= 0.64\n  removeSubscription(subscription) {\n    RNFBAppModule.eventsRemoveListener(subscription.eventType.replace('rnfb_'), false);\n    if (super.removeSubscription) {\n      super.removeSubscription(subscription);\n    }\n  }\n}\n\nexport default new RNFBNativeEventEmitter();\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { NativeModules, Platform } from 'react-native';\nimport { APP_NATIVE_MODULE } from '../constants';\nimport NativeFirebaseError from '../NativeFirebaseError';\nimport RNFBNativeEventEmitter from '../RNFBNativeEventEmitter';\nimport SharedEventEmitter from '../SharedEventEmitter';\n\nconst NATIVE_MODULE_REGISTRY = {};\nconst NATIVE_MODULE_EVENT_SUBSCRIPTIONS = {};\n\nfunction nativeModuleKey(module) {\n  return `${module._customUrlOrRegion || ''}:${module.app.name}:${module._config.namespace}`;\n}\n\n/**\n * Wraps a native module method to provide\n * auto prepended args and custom Error classes.\n *\n * @param namespace\n * @param method\n * @param argToPrepend\n * @returns {Function}\n */\nfunction nativeModuleMethodWrapped(namespace, method, argToPrepend) {\n  return (...args) => {\n    const possiblePromise = method(...[...argToPrepend, ...args]);\n\n    if (possiblePromise && possiblePromise.then) {\n      const jsStack = new Error().stack;\n      return possiblePromise.catch(nativeError =>\n        Promise.reject(new NativeFirebaseError(nativeError, jsStack, namespace)),\n      );\n    }\n\n    return possiblePromise;\n  };\n}\n\n/**\n * Prepends all arguments in prependArgs to all native method calls\n *\n * @param namespace\n * @param NativeModule\n * @param argToPrepend\n */\nfunction nativeModuleWrapped(namespace, NativeModule, argToPrepend) {\n  const native = {};\n  if (!NativeModule) {\n    return NativeModule;\n  }\n\n  const properties = Object.keys(NativeModule);\n\n  for (let i = 0, len = properties.length; i < len; i++) {\n    const property = properties[i];\n    if (typeof NativeModule[property] === 'function') {\n      native[property] = nativeModuleMethodWrapped(namespace, NativeModule[property], argToPrepend);\n    } else {\n      native[property] = NativeModule[property];\n    }\n  }\n\n  return native;\n}\n\n/**\n * Initialises and wraps all the native module methods.\n *\n * @param module\n * @returns {*}\n */\nfunction initialiseNativeModule(module) {\n  const config = module._config;\n  const key = nativeModuleKey(module);\n  const {\n    namespace,\n    nativeEvents,\n    nativeModuleName,\n    hasMultiAppSupport,\n    hasCustomUrlOrRegionSupport,\n    disablePrependCustomUrlOrRegion,\n  } = config;\n  const multiModuleRoot = {};\n  const multiModule = Array.isArray(nativeModuleName);\n  const nativeModuleNames = multiModule ? nativeModuleName : [nativeModuleName];\n\n  for (let i = 0; i < nativeModuleNames.length; i++) {\n    const nativeModule = NativeModules[nativeModuleNames[i]];\n\n    // only error if there's a single native module\n    // as multi modules can mean some are optional\n    if (!multiModule && !nativeModule) {\n      throw new Error(getMissingModuleHelpText(namespace));\n    }\n\n    if (multiModule) {\n      multiModuleRoot[nativeModuleNames[i]] = !!nativeModule;\n    }\n\n    const argToPrepend = [];\n\n    if (hasMultiAppSupport) {\n      argToPrepend.push(module.app.name);\n    }\n\n    if (hasCustomUrlOrRegionSupport && !disablePrependCustomUrlOrRegion) {\n      argToPrepend.push(module._customUrlOrRegion);\n    }\n\n    Object.assign(multiModuleRoot, nativeModuleWrapped(namespace, nativeModule, argToPrepend));\n  }\n\n  if (nativeEvents && nativeEvents.length) {\n    for (let i = 0, len = nativeEvents.length; i < len; i++) {\n      subscribeToNativeModuleEvent(nativeEvents[i]);\n    }\n  }\n\n  Object.freeze(multiModuleRoot);\n\n  NATIVE_MODULE_REGISTRY[key] = multiModuleRoot;\n\n  return NATIVE_MODULE_REGISTRY[key];\n}\n\n/**\n * Subscribe to a native event for js side distribution by appName\n *    React Native events are hard set at compile - cant do dynamic event names\n *    so we use a single event send it to js and js then internally can prefix it\n *    and distribute dynamically.\n *\n * @param eventName\n * @private\n */\nfunction subscribeToNativeModuleEvent(eventName) {\n  if (!NATIVE_MODULE_EVENT_SUBSCRIPTIONS[eventName]) {\n    RNFBNativeEventEmitter.addListener(eventName, event => {\n      if (event.appName) {\n        // native event has an appName property - auto prefix and internally emit\n        SharedEventEmitter.emit(`${event.appName}-${eventName}`, event);\n      } else {\n        // standard event - no need to prefix\n        SharedEventEmitter.emit(eventName, event);\n      }\n    });\n\n    NATIVE_MODULE_EVENT_SUBSCRIPTIONS[eventName] = true;\n  }\n}\n\n/**\n * Help text for integrating the native counter parts for each firebase module.\n *\n * @param namespace\n * @returns {string}\n */\nfunction getMissingModuleHelpText(namespace) {\n  const snippet = `firebase.${namespace}()`;\n  const nativeModule = namespace.charAt(0).toUpperCase() + namespace.slice(1);\n\n  if (Platform.OS === 'ios') {\n    return (\n      `You attempted to use a firebase module that's not installed natively on your iOS project by calling ${snippet}.` +\n      '\\r\\n\\r\\nEnsure you have either linked the module or added it to your projects Podfile.' +\n      '\\r\\n\\r\\nSee http://invertase.link/ios for full setup instructions.'\n    );\n  }\n\n  const rnFirebasePackage = `'io.invertase.firebase.${namespace}.ReactNativeFirebase${nativeModule}Package'`;\n  const newInstance = `'new ReactNativeFirebase${nativeModule}Package()'`;\n\n  return (\n    `You attempted to use a firebase module that's not installed on your Android project by calling ${snippet}.` +\n    `\\r\\n\\r\\nEnsure you have:\\r\\n\\r\\n1) imported the ${rnFirebasePackage} module in your 'MainApplication.java' file.\\r\\n\\r\\n2) Added the ` +\n    `${newInstance} line inside of the RN 'getPackages()' method list.` +\n    '\\r\\n\\r\\nSee http://invertase.link/android for full setup instructions.'\n  );\n}\n\n/**\n * Gets a wrapped native module instance for the provided firebase module.\n * Will attempt to create a new instance if non previously created.\n *\n * @param module\n * @returns {*}\n */\nexport function getNativeModule(module) {\n  const key = nativeModuleKey(module);\n\n  if (NATIVE_MODULE_REGISTRY[key]) {\n    return NATIVE_MODULE_REGISTRY[key];\n  }\n\n  return initialiseNativeModule(module);\n}\n\n/**\n * Custom wrapped app module as it does not have it's own FirebaseModule based class.\n *\n * @returns {*}\n */\nexport function getAppModule() {\n  if (NATIVE_MODULE_REGISTRY[APP_NATIVE_MODULE]) {\n    return NATIVE_MODULE_REGISTRY[APP_NATIVE_MODULE];\n  }\n\n  const namespace = 'app';\n  const nativeModule = NativeModules[APP_NATIVE_MODULE];\n\n  if (!nativeModule) {\n    throw new Error(getMissingModuleHelpText(namespace));\n  }\n\n  NATIVE_MODULE_REGISTRY[APP_NATIVE_MODULE] = nativeModuleWrapped(namespace, nativeModule, []);\n\n  return NATIVE_MODULE_REGISTRY[APP_NATIVE_MODULE];\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { getAppModule } from './internal/registry/nativeModule';\n\nexport default class FirebaseApp {\n  constructor(options, appConfig, fromNative, deleteApp) {\n    const { name, automaticDataCollectionEnabled } = appConfig;\n\n    this._name = name;\n    this._deleted = false;\n    this._deleteApp = deleteApp;\n    this._options = Object.assign({}, options);\n    this._automaticDataCollectionEnabled = !!automaticDataCollectionEnabled;\n\n    if (fromNative) {\n      this._initialized = true;\n      this._nativeInitialized = true;\n    } else {\n      this._initialized = false;\n      this._nativeInitialized = false;\n    }\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  get options() {\n    return Object.assign({}, this._options);\n  }\n\n  get automaticDataCollectionEnabled() {\n    return this._automaticDataCollectionEnabled;\n  }\n\n  set automaticDataCollectionEnabled(enabled) {\n    this._checkDestroyed();\n    getAppModule().setAutomaticDataCollectionEnabled(this.name, enabled);\n    this._automaticDataCollectionEnabled = enabled;\n  }\n\n  _checkDestroyed() {\n    if (this._deleted) {\n      throw new Error(`Firebase App named '${this._name}' already deleted`);\n    }\n  }\n\n  extendApp(extendedProps) {\n    this._checkDestroyed();\n    Object.assign(this, extendedProps);\n  }\n\n  delete() {\n    this._checkDestroyed();\n    return this._deleteApp();\n  }\n\n  toString() {\n    return this.name;\n  }\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport EventEmitter from 'react-native/Libraries/vendor/emitter/EventEmitter';\n\nexport default new EventEmitter();\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nexport { default as FirebaseApp } from '../FirebaseApp';\nexport * from './constants';\nexport { default as FirebaseModule } from './FirebaseModule';\nexport { default as NativeFirebaseError } from './NativeFirebaseError';\nexport * from './registry/app';\nexport * from './registry/namespace';\nexport * from './registry/nativeModule';\nexport { default as SharedEventEmitter } from './SharedEventEmitter';\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nexport default class NativeFirebaseError extends Error {\n  static fromEvent(errorEvent, namespace, stack) {\n    return new NativeFirebaseError({ userInfo: errorEvent }, stack || new Error().stack, namespace);\n  }\n\n  constructor(nativeError, jsStack, namespace) {\n    super();\n    const { userInfo } = nativeError;\n\n    Object.defineProperty(this, 'namespace', {\n      enumerable: false,\n      value: namespace,\n    });\n\n    Object.defineProperty(this, 'code', {\n      enumerable: false,\n      value: `${this.namespace}/${userInfo.code || 'unknown'}`,\n    });\n\n    Object.defineProperty(this, 'message', {\n      enumerable: false,\n      value: `[${this.code}] ${userInfo.message || nativeError.message}`,\n    });\n\n    Object.defineProperty(this, 'jsStack', {\n      enumerable: false,\n      value: jsStack,\n    });\n\n    Object.defineProperty(this, 'userInfo', {\n      enumerable: false,\n      value: userInfo,\n    });\n\n    Object.defineProperty(this, 'nativeErrorCode', {\n      enumerable: false,\n      value: userInfo.nativeErrorCode || null,\n    });\n\n    Object.defineProperty(this, 'nativeErrorMessage', {\n      enumerable: false,\n      value: userInfo.nativeErrorMessage || null,\n    });\n\n    this.stack = NativeFirebaseError.getStackWithMessage(\n      `NativeFirebaseError: ${this.message}`,\n      this.jsStack,\n    );\n\n    // Unused\n    // this.nativeStackIOS = nativeError.nativeStackIOS;\n    // this.nativeStackAndroid = nativeError.nativeStackAndroid;\n  }\n\n  /**\n   * Build a stack trace that includes JS stack prior to calling the native method.\n   *\n   * @returns {string}\n   */\n  static getStackWithMessage(message, jsStack) {\n    return [message, ...jsStack.split('\\n').slice(2, 13)].join('\\n');\n  }\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { getAppModule, getNativeModule } from './registry/nativeModule';\nimport SharedEventEmitter from './SharedEventEmitter';\n\nlet firebaseJson = null;\n\nexport default class FirebaseModule {\n  constructor(app, config, customUrlOrRegion) {\n    this._app = app;\n    this._nativeModule = null;\n    this._customUrlOrRegion = customUrlOrRegion;\n    this._config = Object.assign({}, config);\n  }\n\n  get app() {\n    return this._app;\n  }\n\n  get firebaseJson() {\n    if (firebaseJson) {\n      return firebaseJson;\n    }\n    firebaseJson = JSON.parse(getAppModule().FIREBASE_RAW_JSON);\n    return firebaseJson;\n  }\n\n  get emitter() {\n    return SharedEventEmitter;\n  }\n\n  // TODO Handle custom url or region?\n  eventNameForApp(...args) {\n    return `${this.app.name}-${args.join('-')}`;\n  }\n\n  get native() {\n    if (this._nativeModule) {\n      return this._nativeModule;\n    }\n    this._nativeModule = getNativeModule(this);\n    return this._nativeModule;\n  }\n}\n\n// Instance of checks don't work once compiled\nFirebaseModule.__extended__ = {};\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport {\n  isIOS,\n  isNull,\n  isObject,\n  isString,\n  isUndefined,\n} from '@react-native-firebase/app/lib/common';\nimport FirebaseApp from '../../FirebaseApp';\nimport { DEFAULT_APP_NAME } from '../constants';\nimport { getAppModule } from './nativeModule';\n\nconst APP_REGISTRY = {};\nlet onAppCreateFn = null;\nlet onAppDestroyFn = null;\nlet initializedNativeApps = false;\n\n/**\n * This was needed to avoid metro require cycles...\n * @param fn\n */\nexport function setOnAppCreate(fn) {\n  onAppCreateFn = fn;\n}\n\n/**\n * This was needed to avoid metro require cycles...\n * @param fn\n */\nexport function setOnAppDestroy(fn) {\n  onAppDestroyFn = fn;\n}\n\n/**\n * Initializes all apps that were created natively (android/ios),\n * e.g. the Default firebase app from plist/json google services file.\n */\nexport function initializeNativeApps() {\n  const nativeModule = getAppModule();\n  const { NATIVE_FIREBASE_APPS } = nativeModule;\n\n  if (NATIVE_FIREBASE_APPS && NATIVE_FIREBASE_APPS.length) {\n    for (let i = 0; i < NATIVE_FIREBASE_APPS.length; i++) {\n      const { appConfig, options } = NATIVE_FIREBASE_APPS[i];\n      const { name } = appConfig;\n      APP_REGISTRY[name] = new FirebaseApp(\n        options,\n        appConfig,\n        true,\n        deleteApp.bind(null, name, true),\n      );\n      onAppCreateFn(APP_REGISTRY[name]);\n    }\n  }\n\n  initializedNativeApps = true;\n}\n\n/**\n * Get an app by name; or the default app.\n *\n * On first call of this method it will initialize any\n * natively created apps in JS. This makes this 'lazy load'.\n *\n * @param name\n */\nexport function getApp(name = DEFAULT_APP_NAME) {\n  if (!initializedNativeApps) {\n    initializeNativeApps();\n  }\n  const app = APP_REGISTRY[name];\n\n  if (!app) {\n    throw new Error(`No Firebase App '${name}' has been created - call firebase.initializeApp()`);\n  }\n\n  return app;\n}\n\n/**\n * Gets all app instances, used for `firebase.apps`\n */\nexport function getApps() {\n  if (!initializedNativeApps) {\n    initializeNativeApps();\n  }\n  return Object.values(APP_REGISTRY);\n}\n\n/**\n *\n * @param options\n * @param configOrName\n */\nexport function initializeApp(options = {}, configOrName) {\n  let appConfig = configOrName;\n\n  if (!isObject(configOrName) || isNull(configOrName)) {\n    appConfig = {\n      name: configOrName,\n      automaticResourceManagement: false,\n      automaticDataCollectionEnabled: true,\n    };\n  }\n\n  if (isUndefined(appConfig.name)) {\n    appConfig.name = DEFAULT_APP_NAME;\n  }\n\n  const { name } = appConfig;\n\n  if (!name || !isString(name)) {\n    return Promise.reject(new Error(`Illegal App name: '${name}'`));\n  }\n\n  if (APP_REGISTRY[name]) {\n    return Promise.reject(new Error(`Firebase App named '${name}' already exists`));\n  }\n\n  // VALIDATE OPTIONS\n  if (!isObject(options)) {\n    return Promise.reject(\n      new Error(`firebase.initializeApp(options, <- expects an Object but got '${typeof options}'`),\n    );\n  }\n\n  if (!isString(options.apiKey)) {\n    return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'apiKey'.\"));\n  }\n\n  if (!isString(options.appId)) {\n    return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'appId'.\"));\n  }\n\n  // TODO - make required only if database module exists - init app on native ios&android needs changing also\n  if (!isString(options.databaseURL)) {\n    return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'databaseURL'.\"));\n  }\n\n  // TODO - make required only if messaging/notifications module exists - init app on native ios&android needs changing also\n  if (!isString(options.messagingSenderId)) {\n    return Promise.reject(\n      new Error(\"Missing or invalid FirebaseOptions property 'messagingSenderId'.\"),\n    );\n  }\n\n  if (!isString(options.projectId)) {\n    return Promise.reject(new Error(\"Missing or invalid FirebaseOptions property 'projectId'.\"));\n  }\n\n  // TODO - make required only if database module exists - init app on native ios&android needs changing also\n  if (!isString(options.storageBucket)) {\n    return Promise.reject(\n      new Error(\"Missing or invalid FirebaseOptions property 'storageBucket'.\"),\n    );\n  }\n\n  const app = new FirebaseApp(options, { name }, false, deleteApp.bind(null, name, true));\n\n  // Note these initialization actions with side effects are performed prior to knowledge of\n  // successful initialization in the native code. Native code *may* throw an error.\n  APP_REGISTRY[name] = app;\n  onAppCreateFn(APP_REGISTRY[name]);\n\n  return getAppModule()\n    .initializeApp(options, { name })\n    .then(() => {\n      app._initialized = true;\n      return app;\n    })\n    .catch(e => {\n      // we need to clean the app entry from registry as the app does not actually exist\n      // There are still possible side effects from `onAppCreateFn` to consider but as existing\n      // code may rely on that function running prior to native create, re-ordering it is a semantic change\n      // and will be avoided\n      delete APP_REGISTRY[name];\n\n      // Now allow calling code to handle the initialization issue\n      throw e;\n    });\n}\n\nexport function setLogLevel(logLevel) {\n  if (!['error', 'warn', 'info', 'debug', 'verbose'].includes(logLevel)) {\n    throw new Error('LogLevel must be one of \"error\", \"warn\", \"info\", \"debug\", \"verbose\"');\n  }\n\n  if (isIOS) {\n    getAppModule().setLogLevel(logLevel);\n  }\n}\n\n/**\n *\n */\nexport function deleteApp(name, nativeInitialized) {\n  if (name === DEFAULT_APP_NAME && nativeInitialized) {\n    return Promise.reject(new Error('Unable to delete the default native firebase app instance.'));\n  }\n\n  const app = APP_REGISTRY[name];\n\n  const nativeModule = getAppModule();\n\n  return nativeModule.deleteApp(name).then(() => {\n    app._deleted = true;\n    onAppDestroyFn(app);\n    delete APP_REGISTRY[name];\n  });\n}\n","/*\n * Copyright (c) 2016-present Invertase Limited & Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this library except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\nimport { isString } from '@react-native-firebase/app/lib/common';\nimport FirebaseApp from '../../FirebaseApp';\nimport SDK_VERSION from '../../version';\nimport { DEFAULT_APP_NAME, KNOWN_NAMESPACES } from '../constants';\nimport FirebaseModule from '../FirebaseModule';\nimport {\n  getApp,\n  getApps,\n  initializeApp,\n  setLogLevel,\n  setOnAppCreate,\n  setOnAppDestroy,\n} from './app';\n\n// firebase.X\nlet FIREBASE_ROOT = null;\n\nconst NAMESPACE_REGISTRY = {};\nconst APP_MODULE_INSTANCE = {};\nconst MODULE_GETTER_FOR_APP = {};\nconst MODULE_GETTER_FOR_ROOT = {};\n\n/**\n * Attaches module namespace getters on every newly created app.\n *\n * Structured like this to avoid metro require cycles.\n */\nsetOnAppCreate(app => {\n  for (let i = 0; i < KNOWN_NAMESPACES.length; i++) {\n    const moduleNamespace = KNOWN_NAMESPACES[i];\n    Object.defineProperty(app, moduleNamespace, {\n      enumerable: false,\n      get: firebaseAppModuleProxy.bind(null, app, moduleNamespace),\n    });\n  }\n});\n\n/**\n * Destroys all APP_MODULE_INSTANCE & MODULE_GETTER_FOR_APP objects relating to the\n * recently destroyed app.\n *\n * Structured like this to avoid metro require cycles.\n */\nsetOnAppDestroy(app => {\n  delete APP_MODULE_INSTANCE[app.name];\n  delete MODULE_GETTER_FOR_APP[app.name];\n});\n\n/**\n *\n * @param app\n * @param moduleNamespace\n * @returns {*}\n */\nfunction getOrCreateModuleForApp(app, moduleNamespace) {\n  if (MODULE_GETTER_FOR_APP[app.name] && MODULE_GETTER_FOR_APP[app.name][moduleNamespace]) {\n    return MODULE_GETTER_FOR_APP[app.name][moduleNamespace];\n  }\n\n  if (!MODULE_GETTER_FOR_APP[app.name]) {\n    MODULE_GETTER_FOR_APP[app.name] = {};\n  }\n\n  const { hasCustomUrlOrRegionSupport, hasMultiAppSupport, ModuleClass } =\n    NAMESPACE_REGISTRY[moduleNamespace];\n\n  // modules such as analytics only run on the default app\n  if (!hasMultiAppSupport && app.name !== DEFAULT_APP_NAME) {\n    throw new Error(\n      [\n        `You attempted to call \"firebase.app('${app.name}').${moduleNamespace}\" but; ${moduleNamespace} does not support multiple Firebase Apps.`,\n        '',\n        `Ensure you access ${moduleNamespace} from the default application only.`,\n      ].join('\\r\\n'),\n    );\n  }\n\n  // e.g. firebase.storage(customUrlOrRegion)\n  function firebaseModuleWithArgs(customUrlOrRegion) {\n    if (customUrlOrRegion !== undefined) {\n      if (!hasCustomUrlOrRegionSupport) {\n        // TODO throw Module does not support arguments error\n      }\n\n      if (!isString(customUrlOrRegion)) {\n        // TODO throw Module first argument must be a string error\n      }\n    }\n\n    const key = customUrlOrRegion ? `${customUrlOrRegion}:${moduleNamespace}` : moduleNamespace;\n\n    if (!APP_MODULE_INSTANCE[app.name]) {\n      APP_MODULE_INSTANCE[app.name] = {};\n    }\n\n    if (!APP_MODULE_INSTANCE[app.name][key]) {\n      APP_MODULE_INSTANCE[app.name][key] = new ModuleClass(\n        app,\n        NAMESPACE_REGISTRY[moduleNamespace],\n        customUrlOrRegion,\n      );\n    }\n\n    return APP_MODULE_INSTANCE[app.name][key];\n  }\n\n  MODULE_GETTER_FOR_APP[app.name][moduleNamespace] = firebaseModuleWithArgs;\n  return MODULE_GETTER_FOR_APP[app.name][moduleNamespace];\n}\n\n/**\n *\n * @param moduleNamespace\n * @returns {*}\n */\nfunction getOrCreateModuleForRoot(moduleNamespace) {\n  if (MODULE_GETTER_FOR_ROOT[moduleNamespace]) {\n    return MODULE_GETTER_FOR_ROOT[moduleNamespace];\n  }\n\n  const { statics, hasMultiAppSupport, ModuleClass } = NAMESPACE_REGISTRY[moduleNamespace];\n\n  // e.g. firebase.storage(app)\n  function firebaseModuleWithApp(app) {\n    const _app = app || getApp();\n\n    if (!(_app instanceof FirebaseApp)) {\n      throw new Error(\n        [\n          `\"firebase.${moduleNamespace}(app)\" arg expects a FirebaseApp instance or undefined.`,\n          '',\n          'Ensure the arg provided is a Firebase app instance; or no args to use the default Firebase app.',\n        ].join('\\r\\n'),\n      );\n    }\n\n    // modules such as analytics only run on the default app\n    if (!hasMultiAppSupport && _app.name !== DEFAULT_APP_NAME) {\n      throw new Error(\n        [\n          `You attempted to call \"firebase.${moduleNamespace}(app)\" but; ${moduleNamespace} does not support multiple Firebase Apps.`,\n          '',\n          `Ensure the app provided is the default Firebase app only and not the \"${_app.name}\" app.`,\n        ].join('\\r\\n'),\n      );\n    }\n\n    if (!APP_MODULE_INSTANCE[_app.name]) {\n      APP_MODULE_INSTANCE[_app.name] = {};\n    }\n\n    if (!APP_MODULE_INSTANCE[_app.name][moduleNamespace]) {\n      APP_MODULE_INSTANCE[_app.name][moduleNamespace] = new ModuleClass(\n        _app,\n        NAMESPACE_REGISTRY[moduleNamespace],\n      );\n    }\n\n    return APP_MODULE_INSTANCE[_app.name][moduleNamespace];\n  }\n\n  Object.assign(firebaseModuleWithApp, statics || {});\n  Object.freeze(firebaseModuleWithApp);\n  MODULE_GETTER_FOR_ROOT[moduleNamespace] = firebaseModuleWithApp;\n\n  return MODULE_GETTER_FOR_ROOT[moduleNamespace];\n}\n\n/**\n *\n * @param firebaseNamespace\n * @param moduleNamespace\n * @returns {*}\n */\nfunction firebaseRootModuleProxy(firebaseNamespace, moduleNamespace) {\n  if (NAMESPACE_REGISTRY[moduleNamespace]) {\n    return getOrCreateModuleForRoot(moduleNamespace);\n  }\n\n  moduleWithDashes = moduleNamespace\n    .split(/(?=[A-Z])/)\n    .join('-')\n    .toLowerCase();\n\n  throw new Error(\n    [\n      `You attempted to use 'firebase.${moduleNamespace}' but this module could not be found.`,\n      '',\n      `Ensure you have installed and imported the '@react-native-firebase/${moduleWithDashes}' package.`,\n    ].join('\\r\\n'),\n  );\n}\n\n/**\n *\n * @param app\n * @param moduleNamespace\n * @returns {*}\n */\nexport function firebaseAppModuleProxy(app, moduleNamespace) {\n  if (NAMESPACE_REGISTRY[moduleNamespace]) {\n    app._checkDestroyed();\n    return getOrCreateModuleForApp(app, moduleNamespace);\n  }\n\n  moduleWithDashes = moduleNamespace\n    .split(/(?=[A-Z])/)\n    .join('-')\n    .toLowerCase();\n\n  throw new Error(\n    [\n      `You attempted to use \"firebase.app('${app.name}').${moduleNamespace}\" but this module could not be found.`,\n      '',\n      `Ensure you have installed and imported the '@react-native-firebase/${moduleWithDashes}' package.`,\n    ].join('\\r\\n'),\n  );\n}\n\n/**\n *\n * @returns {*}\n */\nexport function createFirebaseRoot() {\n  FIREBASE_ROOT = {\n    initializeApp,\n    get app() {\n      return getApp;\n    },\n    get apps() {\n      return getApps();\n    },\n    SDK_VERSION,\n    setLogLevel,\n  };\n\n  for (let i = 0; i < KNOWN_NAMESPACES.length; i++) {\n    const namespace = KNOWN_NAMESPACES[i];\n    Object.defineProperty(FIREBASE_ROOT, namespace, {\n      enumerable: false,\n      get: firebaseRootModuleProxy.bind(null, FIREBASE_ROOT, namespace),\n    });\n  }\n\n  return FIREBASE_ROOT;\n}\n\n/**\n *\n * @returns {*}\n */\nexport function getFirebaseRoot() {\n  if (FIREBASE_ROOT) {\n    return FIREBASE_ROOT;\n  }\n  return createFirebaseRoot();\n}\n\n/**\n *\n * @param options\n * @returns {*}\n */\nexport function createModuleNamespace(options = {}) {\n  const { namespace, ModuleClass } = options;\n\n  if (!NAMESPACE_REGISTRY[namespace]) {\n    // validation only for internal / module dev usage\n    if (FirebaseModule.__extended__ !== ModuleClass.__extended__) {\n      throw new Error('INTERNAL ERROR: ModuleClass must be an instance of FirebaseModule.');\n    }\n\n    NAMESPACE_REGISTRY[namespace] = Object.assign({}, options);\n  }\n\n  return getFirebaseRoot()[namespace];\n}\n","// Generated by genversion.\nmodule.exports = '14.10.0';\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow strict\n */\n\n'use strict';\n\nconst base64 = require('base64-js');\n\nfunction binaryToBase64(data: ArrayBuffer | $ArrayBufferView): string {\n  if (data instanceof ArrayBuffer) {\n    // $FlowFixMe[reassign-const]\n    data = new Uint8Array(data);\n  }\n  if (data instanceof Uint8Array) {\n    return base64.fromByteArray(data);\n  }\n  if (!ArrayBuffer.isView(data)) {\n    throw new Error('data must be ArrayBuffer or typed array');\n  }\n  // Already checked that `data` is `DataView` in `ArrayBuffer.isView(data)`\n  const {buffer, byteOffset, byteLength} = ((data: $FlowFixMe): DataView);\n  return base64.fromByteArray(new Uint8Array(buffer, byteOffset, byteLength));\n}\n\nmodule.exports = binaryToBase64;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n"],"sourceRoot":""}